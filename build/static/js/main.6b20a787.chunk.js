(this["webpackJsonp@ibm-watson/visual-recognition-code-pattern"]=this["webpackJsonp@ibm-watson/visual-recognition-code-pattern"]||[]).push([[0],{14:function(e){e.exports=JSON.parse('{"b":"Watson Visual Recognition","a":"The Visual Recognition service uses deep learning algorithms to analyze images for scenes, objects, text, and other subjects."}')},16:function(e,t,a){},23:function(e){e.exports=JSON.parse('[{"url":"/images/classify/small/tweed_jacket.jpg","alt":"tweed jacket"},{"url":"/images/classify/small/computer_chip.jpg","alt":"computer-chip"},{"url":"/images/classify/small/soy_sauce.jpg","alt":"kodak-film"}]')},24:function(e){e.exports=JSON.parse('[{"classifier_id":"default","name":"default","classes":[{"class":"fabric","score":0.959},{"class":"gray color","score":0.946},{"class":"Harris Tweed (jacket)","score":0.87,"type_hierarchy":"/fabric/Harris Tweed (jacket)"},{"class":"clothing","score":0.8},{"class":"tweed","score":0.791,"type_hierarchy":"/fabric/tweed"},{"class":"garment","score":0.518},{"class":"overgarment","score":0.517},{"class":"coat","score":0.509},{"class":"Norfolk jacket","score":0.5,"type_hierarchy":"/garment/overgarment/coat/Norfolk jacket"}],"display":"General Model","description":"Quickly understand objects, actions, scenes, and colors within an image."},{"classifier_id":"food","name":"food","classes":[{"class":"non-food","score":0.998}],"display":"Food Model","description":"Identify meals and food items with enhanced accuracy."},{"classifier_id":"explicit","name":"explicit","classes":[{"class":"not explicit","score":0.991}],"display":"Explicit Model","description":"Determine if an image contains nudity or other inappropriate content."}]')},33:function(e,t,a){e.exports=a(41)},41:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(18),c=a.n(r),o=(a(16),a(48)),s=a(42),l=a(25),m=a.n(l),u=a(26),d=a.n(u),p=a(29),f=a.n(p),g=a(28),h=a.n(g),E=a(27),v=a.n(E),b=function(e){Object(n.useEffect)((function(){var t=document.createElement("script");return t.src=e,t.async=!0,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e])},k=a(44),y=function(e){var t=e.description,a=e.links,n=e.title;return i.a.createElement(k.b,{className:"header"},i.a.createElement("div",{className:"title-container"},i.a.createElement("h2",{className:"header-title"},n),i.a.createElement("p",null,t)),i.a.createElement("div",{className:"link-container"},i.a.createElement("div",{className:"link-wrapper"},a.map((function(e){return e})))))};y.defaultProps={description:"",links:[],title:""};var N=y,w=a(19),j=a.n(w),_=a(4),S=function(e){var t=e.images,a=e.onClick;return t.map((function(e,t){return i.a.createElement("div",{key:t,className:"image-picker--section__tile"},i.a.createElement(k.a,{id:"tile-".concat(t),handleClick:function(){a(t)}},i.a.createElement("img",{className:"image-picker--section__image",src:e.url,alt:e.alt})))}))},O=function(e){var t=e.loadingMessage;return i.a.createElement("span",{className:"loader"},i.a.createElement("div",{className:"loader-container"},i.a.createElement("div",{className:"loader-dots"}),t?i.a.createElement("div",{className:"loader-message"},i.a.createElement("p",{className:"ibm-type-a"},t)):null))};O.defaultProps={loadingMessage:null};var C=O,x=a(30),I=a(21),D=a.n(I),P=function(e){var t=e.onUpload;return i.a.createElement("div",{className:"image-picker--section__tile"},i.a.createElement(k.a,{id:"123",handleClick:function(){}},i.a.createElement(x.a,{multiple:!1,onDrop:function(e){t(e)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return i.a.createElement("div",Object.assign({},t(),{className:"upload-image"}),i.a.createElement("input",a()),i.a.createElement(D.a,null),i.a.createElement("p",{className:"upload-text"},"Select or drag an image"))}))))},F=function(e){var t=e.showLoader,a=e.viewerImage,n=e.pickerImages,r=e.onSelectTile,c=e.onUpload;return i.a.createElement("div",{className:"main-image-picker__container"},i.a.createElement("div",{className:"main-image-picker"},i.a.createElement("div",null,i.a.createElement("img",{className:"main-image-picker__image",src:a,alt:"main"}),t?i.a.createElement(C,null):null)),i.a.createElement("div",{className:"image-selection__container"},i.a.createElement("div",{className:"image-picker__tiles"},i.a.createElement(S,{images:n,onClick:function(e){r(e)}}),i.a.createElement(P,{onUpload:function(e){c(e)}}))))};F.defaultProps={viewerType:"image"};var T=F,B=function(e){var t=e.images,a=e.onSubmitImage,r=e.handleUnsupportedFormats,c=e.isClassifying,o="";t[0]&&t[0].url&&(o=t[0].url);var s=Object(n.useState)(o),l=Object(_.a)(s,2),m=l[0],u=l[1];return i.a.createElement(k.b,{className:"input-container"},i.a.createElement("h4",{className:"container-title"},"Input"),i.a.createElement(T,{showLoader:c,viewerImage:m,pickerImages:t,onSelectTile:function(e){!function(e){var n=t[e].url;a({image_file:n}),u(n)}(e)},onUpload:function(e){!function(e){var t=e[0];if(["image/gif","image/png","image/jpg","image/jpeg"].includes(t.type)){var n=new FileReader;n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=n.result;u(e),a({image_data:e})},n.readAsDataURL(t)}else r()}(e)}}),i.a.createElement("h4",{className:"container-footer"},"Select An Image to Analyze"))},M=a(50),R=a(45),A=a(46),J=a(49);function U(e){var t,a=e.progress;return i.a.createElement("div",{className:"bar-container"},i.a.createElement("div",{className:"bar-full"},i.a.createElement("div",{className:"bar",style:{width:"".concat((t=a,Math.abs(Math.round(100*t))),"%")}})),i.a.createElement("div",{className:"progress"},function(e){return(Math.round(100*e)/100).toFixed(2)}(a)))}U.defaultProps={progress:0};var G=U,H=a(22),L=a.n(H),z=function(e){var t=e.classifyResults,a=Object(n.useState)("table"),r=Object(_.a)(a,2),c=r[0],o=r[1];return i.a.createElement(k.b,{className:"output-container"},i.a.createElement("h3",{className:"output-container__title"},"Output"),i.a.createElement("div",{className:"output-container__control-panel"},i.a.createElement(M.a,{className:"output-container__content-switch",onChange:function(e){o(e.name)},selectedIndex:"table"===c?0:1},i.a.createElement(R.a,{name:"table",text:"Table"}),i.a.createElement(R.a,{name:"json",text:"JSON"}))),i.a.createElement(A.a,{legendText:"Result"},"table"===c?i.a.createElement(J.a,null,i.a.createElement("div",{className:"output-container__accordian-header"},i.a.createElement("p",null,"Top Classes"),i.a.createElement("p",null,"Score")),t.map((function(e){return i.a.createElement("div",{key:e.class,className:"output-container__accordian-item"},i.a.createElement("p",null,e.class),i.a.createElement(G,{progress:e.score}))}))):i.a.createElement(L.a,{name:!1,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,collapsed:2,collapseStringsAfterLength:20,theme:"monokai",style:{lineHeight:"1.3em"},src:t})))};z.defaultProps={classifyResults:null};var W=z,q=a(47),V=function(e){var t=e.caption,a=e.children,r=e.className,c=e.hideAfterFirstDisplay,o=e.hideCloseButton,s=e.iconDescription,l=e.kind,m=e.lowContrast,u=e.onCloseButtonClick,d=e.role,p=e.subtitle,f=e.timeout,g=e.title,h=Object(n.useState)(),E=Object(_.a)(h,2),v=E[0],b=E[1],k=Object(n.useState)(!1),y=Object(_.a)(k,2),N=y[0],w=y[1];return Object(n.useEffect)((function(){b(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))}),[]),Object(n.useEffect)((function(){var e=document.querySelector(".custom-toast-".concat(v));e&&(e.className+="enter")}),[v]),Object(n.useEffect)((function(){c&&void 0!==typeof window&&void 0!==typeof window.localStorage&&"true"===window.localStorage.getItem("notificationHasBeenSeen")&&w(!0)}),[c]),N?null:i.a.createElement(q.a,{caption:t,className:"custom-toast-".concat(v," ").concat(r),hideCloseButton:o,iconDescription:s,kind:l,lowContrast:m,onCloseButtonClick:function(){c&&void 0!==typeof window&&void 0!==typeof window.localStorage&&window.localStorage.setItem("notificationHasBeenSeen","true"),u()},role:d,subtitle:p,timeout:f,title:g},a)};V.defaultProps={caption:"",children:null,className:"",hideAfterFirstDisplay:!0,hideCloseButton:!1,iconDescription:"closes notification",kind:"error",lowContrast:!1,onCloseButtonClick:function(){},role:"alert",subtitle:"",timeout:0,title:""};var Q=V,$=a(23),K=a(24),X=function(){var e,t=Object(n.useState)(!1),a=Object(_.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(K),s=Object(_.a)(o,2),l=s[0],m=s[1],u=Object(n.useState)(null),d=Object(_.a)(u,2),p=d[0],f=d[1];return i.a.createElement("div",{className:"service-container"},i.a.createElement(Q,{kind:"info",subtitle:"This system is for demonstration purposes only and is not intended to process Personal Data. No Personal Data is to be entered into this system as it may not have the necessary controls in place to meet the requirements of the General Data Protection Regulation (EU) 2016/679."}),p&&i.a.createElement(Q,{kind:"error",title:p.title,subtitle:p.description,hideAfterFirstDisplay:!1,timeout:5e3,onCloseButtonClick:function(){return f(null)}}),i.a.createElement(B,{onSubmitImage:function(e){!function(e){j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:c(!0),fetch("/api/classify",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?f(e.error):m(e.result.images[0].classifiers)})).catch((function(e){f({title:e.message,description:e.message})})).finally((function(){return c(!1)}));case 2:case"end":return t.stop()}}))}(e)},isClassifying:r,images:$,handleUnsupportedFormats:function(){f({title:"Invalid file format:",description:"Only JPGs, PNGs, and GIFs are supported"})}}),i.a.createElement(W,{classifyResults:(e=l,e[0].classes.sort((function(e,t){return t.score-e.score})).slice(0,10))}))},Y=a(14),Z=[i.a.createElement(o.a,{className:"link",key:"api-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/apidocs/visual-recognition"},i.a.createElement("p",{className:"link-text"},"API reference"),i.a.createElement(m.a,{className:"link-icon"})),i.a.createElement(o.a,{className:"link",key:"docs-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/docs/services/visual-recognition?topic=visual-recognition-getting-started-tutorial"},i.a.createElement("p",{className:"link-text"},"Documentation"),i.a.createElement(d.a,{className:"link-icon"})),i.a.createElement(o.a,{className:"link",key:"github-link",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/watson-developer-cloud/visual-recognition-code-pattern"},i.a.createElement("p",{className:"link-text"},"GitHub"),i.a.createElement(v.a,{className:"link-icon"})),i.a.createElement(o.a,{className:"link getting-started",key:"ibm-cloud-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/registration?target=%2Fdeveloper%2Fwatson%2Flaunch-service%2Fvisual-recognition%3FhideTours%3Dtrue"},i.a.createElement(s.a,{className:"link-button",kind:"tertiary",renderIcon:h.a},"Start for free on IBM Cloud"),i.a.createElement(f.a,{className:"link-icon"}))],ee=function(){return b("https://cdn.jsdelivr.net/gh/watson-developer-cloud/watson-developer-cloud.github.io@master/analytics.js"),i.a.createElement("div",{className:"app-container"},i.a.createElement(N,{description:Y.a,links:Z,title:Y.b}),i.a.createElement(X,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.6b20a787.chunk.js.map